# RDRA（リレーションシップ駆動要件分析）方法論

## RDRA概要

RDRA（Relationship Driven Requirement Analysis）は、モデルベースのビジネスとシステムの可視化手法です。要件定義において重要な「**網羅性**」「**整合性**」「**表現力**」の3要素を高いレベルで実現するための要件分析フレームワークを提供します。

## RDRAの4層アーキテクチャ

### Layer 1: システム価値層（System Value Layer）
**目的**: システムの存在価値と目標を明確化

**モデル構成要素**:
- **コンテキストモデル**: システムに関わる人・外部システム・目的を明確化
- **要求モデル**: システムへの要求と期待を捕捉

**Zoom Video Moverでの適用**:
- **ステークホルダー**: Zoom録画ダウンロードユーザー、IT管理者
- **外部システム**: Zoom Cloud API、Windows OS
- **システム価値**: 録画データの効率的なローカル保存、業務効率化

### Layer 2: システム外部環境層（External System Environment Layer）
**目的**: システムの動作環境を探索

**モデル構成要素**:
- **ビジネスモデル**: 組織のワークフローをマップ化
- **利用シナリオ**: 具体的なシステム利用コンテキストを可視化
- **概念モデル**: ドメイン固有の用語と関係性を定義

**Zoom Video Moverでの適用**:
- **ビジネスフロー**: 会議録画 → クラウド保存 → ローカルダウンロード → 活用
- **利用シナリオ**: 定期バックアップ、重要会議アーカイブ、オフライン視聴
- **ドメイン概念**: 録画、AI要約、OAuth認証、ダウンロードセッション

### Layer 3: システム境界層（System Boundary Layer）  
**目的**: システムの相互作用ポイントを定義

**モデル構成要素**:
- **ユースケースモデル**: ユーザーとの相互作用を整理
- **画面・帳票モデル**: 入出力情報を定義
- **イベントモデル**: 外部システムとの相互作用を追跡
- **プロトコルモデル**: 入出力ルールとシーケンスを確立

**Zoom Video Moverでの適用**:
- **ユースケース**: OAuth認証、録画検索、ファイル選択、ダウンロード実行
- **画面設計**: 設定画面、録画リスト画面、進捗表示画面
- **外部イベント**: API呼び出し、ファイル保存、エラー通知
- **プロトコル**: HTTP/HTTPS通信、OAuth 2.0フロー、ファイル転送

### Layer 4: システム層（System Layer）
**目的**: システムの核心機能を定義

**モデル構成要素**:
- **機能モデル**: 必要なシステム機能を特定
- **データモデル**: 情報構造と関係性を捕捉

**Zoom Video Moverでの適用**:
- **コア機能**: 認証管理、API通信、並列ダウンロード、進捗管理
- **データ構造**: 設定情報、録画メタデータ、ダウンロード状態、エラー情報

## RDRA実践プロセス

### フェーズ1: システム価値の明確化
1. **アクター・外部システム洗い出し**
   - プライマリユーザー: Zoom会議録画の定期ダウンロードユーザー
   - セカンダリユーザー: IT管理者・システム運用者
   - 外部システム: Zoom Cloud API・Windows OS

2. **ビジネス価値・目的の定義**
   - 録画データのセキュアなローカル保存
   - 業務継続性の確保（オフライン可用性）
   - ストレージコスト削減

### フェーズ2: システム境界の確定
3. **利用コンテキスト分析**
   - 定期バックアップシナリオ
   - 重要会議アーカイブシナリオ
   - 大量データ移行シナリオ

4. **ユースケース抽出**
   - 主要フロー: 設定 → 認証 → 検索 → 選択 → ダウンロード
   - 代替フロー: エラー回復、再認証、再ダウンロード
   - 例外フロー: ネットワーク障害、API制限、容量不足

### フェーズ3: システム機能の詳細化
5. **機能分解とモデリング**
   - 認証機能: OAuth 2.0フロー、トークン管理
   - 検索機能: API呼び出し、フィルタリング
   - ダウンロード機能: 並列処理、進捗管理

6. **データ設計**
   - 設定データ: Client ID/Secret、出力ディレクトリ
   - セッションデータ: アクセストークン、検索条件
   - 進捗データ: ダウンロード状態、エラー情報

## RDRA品質保証の3原則

### 1. 網羅性（Comprehensiveness）
- **システム価値からの派生**: 全ての要件がシステム価値に結びついている
- **レイヤー間の完全性**: 上位層の要素が下位層で適切に実現されている
- **ステークホルダー視点の網羅**: 全てのアクターのニーズが考慮されている

### 2. 整合性（Consistency）
- **レイヤー間の依存関係**: 内側の要素が外側の要素に依存する関係を維持
- **モデル間の一貫性**: 異なるモデル間での用語・概念の統一
- **要件間の矛盾解消**: 相互に矛盾する要件の特定と調整

### 3. 表現力（Expressiveness）
- **視覚的モデリング**: UML類似の図表による直感的理解
- **具体性**: 抽象的でない、実装可能な要件記述
- **共通言語**: ステークホルダー間での理解共有

## RDRA実装における実践的アプローチ

### 軽量・反復的プロセス
- **仮説ベース**: 完璧性より迅速な全体把握を優先
- **コミュニケーション**: 共通のコミュニケーションツールとしてのモデル活用
- **段階的詳細化**: 荒い要件から始めて開発中に詳細化

### ツール活用
- **視覚化ツール**: PlantUML、Lucidchart等によるモデル作成
- **共有プラットフォーム**: リアルタイム議論・更新サイクル
- **文書連携**: Markdownとの統合による要件管理

## 従来手法との併用

### 1. ステークホルダー分析（RDRA Layer 1基盤）
- **プライマリユーザー**: Zoom会議録画の定期ダウンロードユーザー
- **セカンダリユーザー**: IT管理者・システム運用者
- **開発プロセス**: 実装・テスト・保守フェーズ
- **外部システム**: Zoom Cloud API・Windows OS

### 2. 要件抽出技法（RDRA統合アプローチ）
- **RDRAモデリング**: 4層構造による体系的要件抽出
- **ユースケース分析**: Layer 3でのユーザー相互作用特定
- **プロトタイピング**: Layer 4での早期フィードバック取得
- **API仕様分析**: Layer 2-3での外部システム制約調査
- **競合分析**: Layer 1でのシステム価値比較

### 3. 要件検証手法（RDRA品質保証）
- **モデル整合性チェック**: レイヤー間依存関係の検証
- **レビュー**: RDRAモデルによる複数視点での要件妥当性確認
- **プロトタイプ検証**: Layer 4機能の実装可能性確認
- **トレーサビリティチェック**: RDRA-設計-実装の整合性確認

## RDRAモデルとプロセスフェーズの対応関係

### Phase 1: システム価値分析（RDRA Layer 1）
**対応モデル**: コンテキストモデル、要求モデル
**成果物**: ビジネス価値定義書、コンテキスト図、ステークホルダー要求一覧

### Phase 2: 外部環境・利用状況分析（RDRA Layer 2）
**対応モデル**: ビジネスモデル、利用シナリオ、概念モデル
**成果物**: ビジネスフロー図、利用シナリオ集、概念モデル図

### Phase 3: システム境界・相互作用定義（RDRA Layer 3）
**対応モデル**: ユースケースモデル、画面・帳票モデル、イベントモデル、プロトコルモデル
**成果物**: ユースケース仕様書、画面設計書、API仕様書

### Phase 4: システム内部機能・データ設計（RDRA Layer 4）
**対応モデル**: 機能モデル、データモデル
**成果物**: 機能一覧、データモデル図、処理フロー図

## RDRA品質チェックリスト

### Layer 1（システム価値層）チェックポイント
- [ ] 全ステークホルダーが識別されているか
- [ ] システムの存在価値が明確に定義されているか
- [ ] 外部システムとの関係が明確か
- [ ] ビジネス目標との整合性があるか

### Layer 2（システム外部環境層）チェックポイント
- [ ] ビジネスフローが現実的か
- [ ] 主要な利用シナリオが網羅されているか
- [ ] ドメイン用語が統一されているか
- [ ] 概念間の関係が適切に定義されているか

### Layer 3（システム境界層）チェックポイント
- [ ] ユースケースが完全に定義されているか
- [ ] 画面設計がユーザビリティを考慮しているか
- [ ] 外部インターフェースが明確か
- [ ] プロトコルが標準に準拠しているか

### Layer 4（システム層）チェックポイント
- [ ] 機能分解が適切な粒度か
- [ ] データモデルが正規化されているか
- [ ] 処理性能が考慮されているか
- [ ] エラー処理が適切に設計されているか

## RDRA活用のベストプラクティス

### 効果的なモデリング
1. **視覚的表現を重視**: 図表を活用して理解を促進
2. **段階的詳細化**: 概要から詳細へ段階的に展開
3. **関係性の明確化**: モデル間の関係を明示的に表現

### ステークホルダーとのコミュニケーション
1. **共通言語の確立**: RDRAモデルを共通の議論基盤として使用
2. **レビューの効率化**: モデルベースでの効率的なレビュー実施
3. **合意形成の促進**: 視覚的モデルによる迅速な合意形成

### 継続的改善
1. **フィードバックループ**: 実装からの学習をモデルに反映
2. **モデルの保守**: プロジェクト進行に合わせてモデルを更新
3. **知識の蓄積**: プロジェクト完了後のモデル活用

## まとめ

RDRAは、要件定義の品質向上に貢献する強力なフレームワークです。4層アーキテクチャによる体系的なアプローチと、網羅性・整合性・表現力の3原則により、高品質な要件定義を実現します。

本方法論を適切に活用することで、ステークホルダー間の理解共有を促進し、システム開発の成功確率を大幅に向上させることができます。
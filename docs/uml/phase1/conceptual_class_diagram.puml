@startuml ConceptualClassDiagram
!theme plain
title 概念クラス図 - Zoom Video Mover ドメインモデル

package "認証ドメイン" {
  class User {
    + user_id: String
    + email: String
  }
  
  class OAuth2Token {
    + access_token: String
    + refresh_token: String
    + expires_at: DateTime
  }
  
  class ZoomAccount {
    + account_id: String
    + account_type: String
  }
}

package "会議録画ドメイン" {
  class Meeting {
    + meeting_id: String
    + topic: String
    + start_time: DateTime
    + duration: Duration
    + host_id: String
  }
  
  class Recording {
    + recording_id: String
    + file_type: FileType
    + download_url: String
    + file_size: Long
    + recording_type: RecordingType
  }
  
  class AISummary {
    + summary_id: String
    + content: String
    + language: String
    + generated_at: DateTime
  }
}

package "ダウンロードドメイン" {
  class DownloadTask {
    + task_id: String
    + status: DownloadStatus
    + progress: Percentage
    + started_at: DateTime
  }
  
  class LocalFile {
    + file_path: Path
    + file_name: String
    + checksum: String
    + created_at: DateTime
  }
}

package "設定ドメイン" {
  class ApplicationConfig {
    + client_id: String
    + client_secret: String
    + redirect_uri: String
    + download_path: Path
  }
  
  class FilterCriteria {
    + from_date: Date
    + to_date: Date
    + include_types: List<FileType>
    + host_filter: String
  }
}

' ドメイン間関係性
User ||--|| ZoomAccount : "has"
User ||--|| OAuth2Token : "authenticated by"
ZoomAccount ||--o{ Meeting : "hosts"
Meeting ||--o{ Recording : "generates"
Meeting ||--o| AISummary : "may have"
Recording ||--|| DownloadTask : "downloaded via"
DownloadTask ||--|| LocalFile : "creates"
User ||--|| ApplicationConfig : "configures"
User ||--|| FilterCriteria : "specifies"

' 列挙型
enum FileType {
  VIDEO_MP4
  AUDIO_MP3
  TRANSCRIPT_VTT
  CHAT_TXT
}

enum RecordingType {
  SHARED_SCREEN_WITH_SPEAKER_VIEW
  SHARED_SCREEN_WITH_GALLERY_VIEW
  SPEAKER_VIEW
  GALLERY_VIEW
  AUDIO_ONLY
}

enum DownloadStatus {
  PENDING
  IN_PROGRESS
  COMPLETED
  FAILED
  CANCELLED
}

@enduml
# 人の判断が必要な事項ガイドライン

## 概要

Claude Code Assistantがより効果的に動作するために、人からの明確な判断が必要となる事項をまとめました。これらの基準により、作業の効率化と品質向上を図ります。

## 1. アーキテクチャ・設計判断

### 1.1 技術選択の判断基準
**Claude が判断を求めるべき事項：**
- 新しいライブラリ・フレームワークの導入
- パフォーマンス vs 可読性のトレードオフ
- セキュリティレベルの設定（暗号化方式等）
- 外部API依存関係の追加

**質問例：**
```
新機能実装で以下の選択肢があります：
A) 既存のライブラリXを拡張（実装時間：2日、パフォーマンス：中）
B) 新ライブラリYを導入（実装時間：4日、パフォーマンス：高）
どちらを選択しますか？理由も含めて教えてください。
```

### 1.2 データ構造・API設計
**Claude が判断を求めるべき事項：**
- データベーススキーマの変更
- API インターフェースの破壊的変更
- データ移行戦略
- 後方互換性の維持方針

**質問例：**
```
現在のAPI仕様を変更する必要があります：
現行：get_recordings(date_range) 
提案：get_recordings(from_date, to_date, filters)
破壊的変更となりますが、実装しますか？
```

## 2. 機能仕様・要件判断

### 2.1 要件の曖昧性解決
**Claude が判断を求めるべき事項：**
- 機能の詳細動作仕様
- エラー処理の方針
- ユーザー体験の優先度
- デフォルト値・設定値

**質問例：**
```
「ダウンロード失敗時の動作」について詳細が不明です：
A) 自動リトライ（3回まで）
B) ユーザーに確認ダイアログ表示
C) ログ出力のみ（サイレント失敗）
どの動作を希望しますか？
```

### 2.2 非機能要件の具体化
**Claude が判断を求めるべき事項：**
- パフォーマンス目標値（レスポンス時間等）
- セキュリティレベル（認証強度等）
- 可用性要件（稼働率等）
- スケーラビリティ要件

**質問例：**
```
レート制限の設定値について：
Zoom API制限: 80req/sec
提案設定: 50req/sec（安全マージン）
この設定で問題ないでしょうか？
```

## 3. 実装戦略・優先度判断

### 3.1 開発優先度
**Claude が判断を求めるべき事項：**
- 機能実装の優先順位
- バグ修正 vs 新機能のバランス
- テクニカルデット対応の優先度
- リファクタリングのタイミング

**質問例：**
```
以下の作業が並行して発生しています：
1. AI要約機能の実装（新機能）
2. レート制限バグの修正（重要度：高）
3. コードリファクタリング（保守性向上）
どの順序で実装しますか？
```

### 3.2 テスト戦略
**Claude が判断を求めるべき事項：**
- テストカバレッジの目標値
- テスト種別の優先度（単体 vs 統合 vs E2E）
- モック/スタブの使用方針
- パフォーマンステストの範囲

**質問例：**
```
テスト実装の優先度を教えてください：
現状：Property-basedテスト 5項目実装済み
未実装：統合テスト 15項目、E2Eテスト 5項目
どちらから実装を開始しますか？
```

## 4. ユーザー体験・インターフェース判断

### 4.1 UI/UX設計
**Claude が判断を求めるべき事項：**
- ユーザーインターフェースの詳細設計
- エラーメッセージの表現方法
- 進捗表示の詳細仕様
- キーボードショートカット

**質問例：**
```
ダウンロード進捗表示について：
A) シンプルなプログレスバー
B) 詳細情報付き（速度、残り時間、ファイル名）
C) ミニマル表示（パーセンテージのみ）
どのスタイルを希望しますか？
```

### 4.2 エラーハンドリング
**Claude が判断を求めるべき事項：**
- エラーメッセージの詳細レベル
- 技術的エラー vs ユーザーフレンドリーエラー
- ログ出力の詳細度
- エラー回復戦略

**質問例：**
```
OAuth認証エラー時の表示について：
技術的エラー："Invalid access token, scope missing: recording:read"
ユーザー向け："認証に失敗しました。設定を確認してください"
どちらの表示を優先しますか？
```

## 5. セキュリティ・プライバシー判断

### 5.1 データ保護方針
**Claude が判断を求めるべき事項：**
- 認証情報の保存方法
- ログ出力に含める情報の範囲
- 一時ファイルの扱い
- データ暗号化の強度

**質問例：**
```
OAuth設定の保存方法について：
A) 平文でconfig.toml（現在の実装）
B) OS固有の安全な保存領域を使用
C) ユーザー指定のパスワードで暗号化
どの方法を採用しますか？
```

### 5.2 外部通信
**Claude が判断を求めるべき事項：**
- HTTPS証明書検証の厳密度
- プロキシ設定の対応範囲
- 通信ログの記録レベル
- タイムアウト値の設定

## 6. 運用・保守判断

### 6.1 ログ・監視
**Claude が判断を求めるべき事項：**
- ログレベルの詳細度
- ログファイルの保存期間・サイズ制限
- パフォーマンス監視の範囲
- エラー通知の方法

**質問例：**
```
ログ出力の詳細度について：
DEBUG: API呼び出し詳細、パラメータ、レスポンス全文
INFO: 操作開始・完了、エラー概要
WARN: 回復可能なエラー
ERROR: 致命的エラー
どのレベルまでデフォルト出力しますか？
```

### 6.2 設定・カスタマイズ
**Claude が判断を求めるべき事項：**
- 設定可能項目の範囲
- デフォルト値の設定
- 設定ファイルの形式・場所
- ユーザー設定の検証レベル

## 7. 判断を求める際のフォーマット

### 7.1 基本構造
```
## 判断が必要な事項：[事項名]

### 背景・状況
[現在の状況、発生した問題、実装の文脈]

### 選択肢
A) [選択肢1] - [メリット/デメリット]
B) [選択肢2] - [メリット/デメリット] 
C) [選択肢3] - [メリット/デメリット]

### 影響範囲
- 実装への影響：[具体的な変更箇所]
- ユーザーへの影響：[体験の変化]
- 開発への影響：[工数、複雑度の変化]

### 推奨案
[Claudeの推奨とその理由]

### 判断をお願いします
[具体的に何を決めてほしいかを明記]
```

### 7.2 緊急度の明示
- **🔴 緊急**：実装がブロックされる
- **🟡 重要**：品質・体験に大きく影響
- **🟢 通常**：将来的な改善・最適化

### 7.3 情報提供の原則
- **現状の詳細**：何ができていて、何が課題か
- **技術的制約**：API制限、ライブラリ制約等
- **代替案**：複数の実装方法を提示
- **影響範囲**：変更による影響を明確化

## 8. 自動判断可能な事項（参考）

以下は**Claudeが自動で判断可能**な事項です：

### 8.1 標準的な実装
- 一般的なコーディング規約の適用
- 既存パターンに沿った実装
- 明確な仕様に基づく実装
- バグ修正（明確な不具合）

### 8.2 技術的最適化
- パフォーマンス改善（明確な指標がある場合）
- コードリファクタリング（可読性向上）
- 既存APIに沿った実装
- 標準的なエラーハンドリング

### 8.3 文書・テスト
- コメント・ドキュメントの追加
- 既存テストパターンに沿ったテスト追加
- コード整理・フォーマット
- トレーサビリティの維持

## 9. 効果的な指示のための推奨事項

### 9.1 具体性を重視
❌ 悪い例：「エラー処理を改善して」
✅ 良い例：「OAuth認証失敗時に、ユーザーに再認証を促すダイアログを表示し、3回失敗したらアプリケーションを終了する処理を実装して」

### 9.2 制約・前提の明示
- 技術的制約（使用可能なライブラリ等）
- 時間的制約（リリース期限等）
- リソース制約（ファイルサイズ、メモリ使用量等）
- 互換性要件（既存機能への影響）

### 9.3 成功基準の明確化
- 動作要件（何ができるべきか）
- パフォーマンス要件（どの程度の速度・精度か）
- 品質要件（テストカバレッジ、エラー率等）
- ユーザビリティ要件（操作の簡単さ等）

---

**最終更新**: 2025年1月31日  
**対象バージョン**: Zoom Video Mover v1.0  
**作成者**: Claude Code Assistant